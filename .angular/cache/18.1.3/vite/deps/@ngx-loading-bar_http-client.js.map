{
  "version": 3,
  "sources": ["../../../../../node_modules/@ngx-loading-bar/http-client/fesm2020/ngx-loading-bar-http-client.mjs"],
  "sourcesContent": ["import * as i1 from '@ngx-loading-bar/core';\nimport { LoadingBarModule } from '@ngx-loading-bar/core';\nimport * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport { HttpContextToken, HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { tap, finalize } from 'rxjs/operators';\nconst NGX_LOADING_BAR_IGNORED = new HttpContextToken(() => false);\nclass LoadingBarInterceptor {\n  constructor(loader) {\n    this.loader = loader;\n  }\n  intercept(req, next) {\n    // https://github.com/angular/angular/issues/18155\n    if (req.headers.has('ignoreLoadingBar')) {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        console.warn(`Using http headers ('ignoreLoadingBar') to ignore loading bar is deprecated. Use HttpContext instead: 'context: new HttpContext().set(NGX_LOADING_BAR_IGNORED, true)'`);\n      }\n      return next.handle(req.clone({\n        headers: req.headers.delete('ignoreLoadingBar')\n      }));\n    }\n    if (req.context.get(NGX_LOADING_BAR_IGNORED) === true) {\n      return next.handle(req);\n    }\n    let started = false;\n    const ref = this.loader.useRef('http');\n    return next.handle(req).pipe(tap(() => {\n      if (!started) {\n        ref.start();\n        started = true;\n      }\n    }), finalize(() => started && ref.complete()));\n  }\n}\nLoadingBarInterceptor.ɵfac = function LoadingBarInterceptor_Factory(t) {\n  return new (t || LoadingBarInterceptor)(i0.ɵɵinject(i1.LoadingBarService));\n};\nLoadingBarInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LoadingBarInterceptor,\n  factory: LoadingBarInterceptor.ɵfac\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoadingBarInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.LoadingBarService\n    }];\n  }, null);\n})();\nclass LoadingBarHttpClientModule {}\nLoadingBarHttpClientModule.ɵfac = function LoadingBarHttpClientModule_Factory(t) {\n  return new (t || LoadingBarHttpClientModule)();\n};\nLoadingBarHttpClientModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: LoadingBarHttpClientModule,\n  imports: [HttpClientModule, LoadingBarModule],\n  exports: [HttpClientModule, LoadingBarModule]\n});\nLoadingBarHttpClientModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [{\n    provide: HTTP_INTERCEPTORS,\n    useClass: LoadingBarInterceptor,\n    multi: true\n  }],\n  imports: [[HttpClientModule, LoadingBarModule], HttpClientModule, LoadingBarModule]\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoadingBarHttpClientModule, [{\n    type: NgModule,\n    args: [{\n      imports: [HttpClientModule, LoadingBarModule],\n      exports: [HttpClientModule, LoadingBarModule],\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: LoadingBarInterceptor,\n        multi: true\n      }]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { LoadingBarHttpClientModule, NGX_LOADING_BAR_IGNORED };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAM,0BAA0B,IAAI,iBAAiB,MAAM,KAAK;AAChE,IAAM,wBAAN,MAA4B;AAAA,EAC1B,YAAY,QAAQ;AAClB,SAAK,SAAS;AAAA,EAChB;AAAA,EACA,UAAU,KAAK,MAAM;AAEnB,QAAI,IAAI,QAAQ,IAAI,kBAAkB,GAAG;AACvC,UAAI,OAAO,cAAc,eAAe,WAAW;AACjD,gBAAQ,KAAK,uKAAuK;AAAA,MACtL;AACA,aAAO,KAAK,OAAO,IAAI,MAAM;AAAA,QAC3B,SAAS,IAAI,QAAQ,OAAO,kBAAkB;AAAA,MAChD,CAAC,CAAC;AAAA,IACJ;AACA,QAAI,IAAI,QAAQ,IAAI,uBAAuB,MAAM,MAAM;AACrD,aAAO,KAAK,OAAO,GAAG;AAAA,IACxB;AACA,QAAI,UAAU;AACd,UAAM,MAAM,KAAK,OAAO,OAAO,MAAM;AACrC,WAAO,KAAK,OAAO,GAAG,EAAE,KAAK,IAAI,MAAM;AACrC,UAAI,CAAC,SAAS;AACZ,YAAI,MAAM;AACV,kBAAU;AAAA,MACZ;AAAA,IACF,CAAC,GAAG,SAAS,MAAM,WAAW,IAAI,SAAS,CAAC,CAAC;AAAA,EAC/C;AACF;AACA,sBAAsB,OAAO,SAAS,8BAA8B,GAAG;AACrE,SAAO,KAAK,KAAK,uBAA0B,SAAY,iBAAiB,CAAC;AAC3E;AACA,sBAAsB,QAA0B,mBAAmB;AAAA,EACjE,OAAO;AAAA,EACP,SAAS,sBAAsB;AACjC,CAAC;AAAA,CACA,MAAM;AACL,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,uBAAuB,CAAC;AAAA,IAC9F,MAAM;AAAA,EACR,CAAC,GAAG,WAAY;AACd,WAAO,CAAC;AAAA,MACN,MAAS;AAAA,IACX,CAAC;AAAA,EACH,GAAG,IAAI;AACT,GAAG;AACH,IAAM,6BAAN,MAAiC;AAAC;AAClC,2BAA2B,OAAO,SAAS,mCAAmC,GAAG;AAC/E,SAAO,KAAK,KAAK,4BAA4B;AAC/C;AACA,2BAA2B,OAAyB,iBAAiB;AAAA,EACnE,MAAM;AAAA,EACN,SAAS,CAAC,kBAAkB,gBAAgB;AAAA,EAC5C,SAAS,CAAC,kBAAkB,gBAAgB;AAC9C,CAAC;AACD,2BAA2B,OAAyB,iBAAiB;AAAA,EACnE,WAAW,CAAC;AAAA,IACV,SAAS;AAAA,IACT,UAAU;AAAA,IACV,OAAO;AAAA,EACT,CAAC;AAAA,EACD,SAAS,CAAC,CAAC,kBAAkB,gBAAgB,GAAG,kBAAkB,gBAAgB;AACpF,CAAC;AAAA,CACA,MAAM;AACL,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,4BAA4B,CAAC;AAAA,IACnG,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACL,SAAS,CAAC,kBAAkB,gBAAgB;AAAA,MAC5C,SAAS,CAAC,kBAAkB,gBAAgB;AAAA,MAC5C,WAAW,CAAC;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAAA,EACH,CAAC,GAAG,MAAM,IAAI;AAChB,GAAG;",
  "names": []
}
